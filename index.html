<!doctype HTML>
<html>
<head>
<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">


    <script src="https://aframe.io/releases/0.8.2/aframe.min.js"></script>
    <script src="https://cdn.rawgit.com/jeromeetienne/AR.js/1.6.2/aframe/build/aframe-ar.js"></script>
    <script src="https://cdn.rawgit.com/donmccurdy/aframe-extras/v4.1.2/dist/aframe-extras.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

	
	








<script>
window['_fs_debug'] = false;
window['_fs_host'] = 'fullstory.com';
window['_fs_org'] = 'MFPQ1';
window['_fs_namespace'] = 'FS';
(function(m,n,e,t,l,o,g,y){
    if (e in m) {if(m.console && m.console.log) { m.console.log('FullStory namespace conflict. Please set window["_fs_namespace"].');} return;}
    g=m[e]=function(a,b,s){g.q?g.q.push([a,b,s]):g._api(a,b,s);};g.q=[];
    o=n.createElement(t);o.async=1;o.crossOrigin='anonymous';o.src='https://'+_fs_host+'/s/fs.js';
    y=n.getElementsByTagName(t)[0];y.parentNode.insertBefore(o,y);
    g.identify=function(i,v,s){g(l,{uid:i},s);if(v)g(l,v,s)};g.setUserVars=function(v,s){g(l,v,s)};g.event=function(i,v,s){g('event',{n:i,p:v},s)};
    g.shutdown=function(){g("rec",!1)};g.restart=function(){g("rec",!0)};
    g.consent=function(a){g("consent",!arguments.length||a)};
    g.identifyAccount=function(i,v){o='account';v=v||{};v.acctId=i;g(o,v)};
    g.clearUserCookie=function(){};
})(window,document,window['_fs_namespace'],'script','user');
</script>


	<script>
	/*
			AFRAME.registerComponent('markerhandler', {
   tick:function() {
   	  //var targets = (document.querySelectorAll("a-marker").object3D.visible == true 
	 // for (var i = 0; i < targets.length; i++) {
      if(document.querySelector("a-marker").object3D.visible == true){

      // MARKER IS PRESENT
	  				document.getElementById("Launchable").style.opacity = "0";
					document.getElementById("LaunchableBeams").style.opacity = "0";
      } else {
      // MARKER IS HIDDEN
	  				document.getElementById("Launchable").style.opacity = "0.5";
					document.getElementById("LaunchableBeams").style.opacity = "0.5";
      }
   }
});

*/

	AFRAME.registerComponent('registerevents', {
		init: function () {
			var marker = this.el;
					document.getElementById("Launchable").style.opacity = "0.5";
					document.getElementById("LaunchableBeams").style.opacity = "0.5";
			marker.addEventListener('markerFound', function() {
				var markerId = marker.id;
				console.log('markerFound', markerId);
				// TODO: Add your own code here to react to the marker being found.
					document.getElementById("Launchable").style.opacity = "0";
					document.getElementById("LaunchableBeams").style.opacity = "0";
			});
			marker.addEventListener('markerLost', function() {
				var markerId = marker.id;
				console.log('markerLost', markerId);
				// TODO: Add your own code here to react to the marker being lost.
					document.getElementById("Launchable").style.opacity = "0.5";
					document.getElementById("LaunchableBeams").style.opacity = "0.5";
			});
		}
	});


        AFRAME.registerComponent('vidhandler', {
            init: function() {
                this.toggle = false;
                this.vid = document.querySelector("#vid");
                this.vid.pause();

            },
            tick: function() {
                if (this.el.object3D.visible == true) {
                    if (!this.toggle) {
                        this.toggle = true;
                        this.vid.play();


                    }
                } else {
                    this.toggle = false;
                    this.vid.pause();
		
				


				
                }
            }
        });


			        AFRAME.registerComponent('vidhandler2', {
            init: function() {
                this.toggle = false;
                this.vid = document.querySelector("#vid2");
                this.vid.pause();
            },
            tick: function() {
                if (this.el.object3D.visible == true) {
                    if (!this.toggle) {
                        this.toggle = true;
                        this.vid.play();
				
                    }
                } else {
                    this.toggle = false;
                    this.vid.pause();
				
                }
            }
        });



					        AFRAME.registerComponent('vidhandler3', {
            init: function() {
                this.toggle = false;
                this.vid = document.querySelector("#vid3");
                this.vid.pause();
            },
            tick: function() {
                if (this.el.object3D.visible == true) {
                    if (!this.toggle) {
                        this.toggle = true;
                        this.vid.play();
					 
                    }
                } else {
                    this.toggle = false;
                    this.vid.pause();
                }
            }
        });


							        AFRAME.registerComponent('vidhandler4', {
            init: function() {
                this.toggle = false;
                this.vid = document.querySelector("#vid4");
                this.vid.pause();
            },
            tick: function() {
                if (this.el.object3D.visible == true) {
                    if (!this.toggle) {
                        this.toggle = true;
                        this.vid.play();
					
                    }
                } else {
                    this.toggle = false;
                    this.vid.pause();
                }
            }
        });







					


		</script>

		<style>
		#Launchable{
		position: abosolute;
		
		}
		#LaunchableBeams{
		position: abosolute;
		
		}


		</style>
		
		<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
	
</head>

<body style='margin : 0px; overflow: hidden;'>

  <div class="w3-container" id="LaunchableBeams" style='position: fixed; top: 40%; width:inherit; text-align: center; z-index: 1; '>
  <img class="w3-animate-fading" src="LaunchableTransBeams.png" alt="Launchables">
  </div>

  <div id="Launchable" style='position: fixed; top: 40%; width:inherit; text-align: center; z-index: 1; '>
  <img src="LaunchableTrans.png" alt="Launchables">
  </div>

    <a-scene embedded arjs='patternRatio: 0.8; sourceType: webcam; detectionMode: mono; trackingMethod: best; debugUIEnabled: false;' vr-mode-ui="enabled: false" registerevents>
    <a-assets>
	
			
                <video id="vid" src="https://cdn.glitch.com/b62367d1-ceab-454b-b664-b032f995ed86%2FBig_Buck_Bunny_Trailer_1080p.ogv.720p.webm?1532370072191" loop="true" crossorigin>
				<img   id="Border" src="Border.png">
		
				<video id="vid2" src="https://ak0.picdn.net/shutterstock/videos/1023566830/preview/stock-footage-beautiful-sunrise-world-skyline-planet-earth-from-space-planet-earth-rotating-animation-clip.webm" loop="true" crossorigin>
				<img   id="Border2" src="Border2.png">

				<video id="vid3" src="https://ak0.picdn.net/shutterstock/videos/23251600/preview/stock-footage-stars-fly-past-the-viewer-against-a-backdrop-of-clouds-and-gas-in-space-k-uhd-x.webm" loop="true" crossorigin>
                <video id="vid4" src="https://ak0.picdn.net/shutterstock/videos/1015775620/preview/stock-footage-falling-coriander-in-to-a-bowl-pho-soup-bowl-of-asian-soup-slider-shot.webm" loop="true" crossorigin>

			

        </a-assets>  
		
		        <a-marker type="pattern" url="https://raw.githubusercontent.com/Launchable/freshweb/master/pattern-Launchable.patt" vidhandler>
            <a-video  position='0.001 0.01 0' rotation="-90 0 0" scale="1.76 1 1.77" material='transparent:true;src:#vid' play="true" controls></a-video>
			<a-image rotation="-90 0 0" width="1.89" height="1.14" src="#Border2"></a-image>
			
			
			
    
        </a-marker>
			
				<a-marker id="memarker" preset="hiro" vidhandler2>
            <a-video position='0 0 0' rotation="-90 0 0" scale="1.77 1 1.77" material='transparent:true;src:#vid2' play="true" controls></a-video>
			<a-image rotation="-90 0 0" width="1.89" height="1.14" src="#Border2"></a-image>
		
        </a-marker>

				<a-marker type="memarker" preset="kanji" vidhandler3>
            <a-video position='0 0 0' rotation="-90 0 0" scale="1.77 1 1.77" material='transparent:true;src:#vid3' play="true" controls></a-video>
       		<a-image rotation="-90 0 0" width="1.89" height="1.14" src="#Border2"></a-image>
	   </a-marker>

				<a-marker type="pattern" url="https://raw.githubusercontent.com/Launchable/freshweb/master/pattern-pattern-vietnomz_logo.patt" vidhandler4>
            <a-video position='0 0 0' rotation="-90 0 0" scale="1.77 1 1.77" material='transparent:true;src:#vid4' play="true" controls></a-video>
			<a-image rotation="-90 0 0" width="1.89" height="1.14" src="#Border2"></a-image>
		</a-marker>

			
    <a-entity camera></a-entity>
    </a-scene>

  </body>
</html>
